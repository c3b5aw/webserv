server {
	server_name	webserv;
	listen		0.0.0.0;

	index		index.html;
	error_page 404 tests/www/html/404.html;

	location /bin {
		body_limit	1;

		root		tests/www/html;

		allowed_methods GET POST;
		autoindex on;
	}

	location /noindex {
		allowed_methods GET;
		autoindex	off;
		root		tests/www/html;
	}

	location /index {
		allowed_methods GET;
		autoindex	on;
		root		tests/www/html;
	}

	location /uploads {
		autoindex off;
		root	tests/www/uploads;

		body_limit	10000000;
		allowed_methods POST DELETE;
	}

	location /php {
		cgi .php /usr/bin/php-cgi;
	}

	location /python {
		cgi .py /usr/bin/python-cgi;
	}
}

server {
	server_name webservA;
	listen :8080;

	root	tests/www/html/webservA;
	index index.html
	error_page 404 tests/www/html/403.html;
}

server {
	server_name webservB;

	listen 0.0.0.0:8080;
	index index.html;
	root tests/www/html/webservB;
	location / {

	}
}

server {
	server_name	rediserv;
	listen	0.0.0.0:8080;

	error_page 404 tests/www/html/404.html;

	location /httpbin {
		redirect 301 http://httpbin.org/
	}

	location /google {
		redirect 301 http://google.com/
	}

	location /stackoverflow {
		redirect 301 http://stackoverflow.com/
	}

	location /42 {
		redirect 301 http://www.42.fr/
	}
}